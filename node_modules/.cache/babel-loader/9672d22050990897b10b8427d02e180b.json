{"ast":null,"code":"var _jsxFileName = \"/Users/sjl/Documents/GitHub/RankedPairs-site/src/Ballot.js\";\nimport React from 'react';\nimport { Typography, Button } from '@material-ui/core';\nimport Position from './Position.js';\nimport { useParams } from 'react-router-dom'; // passed into this is the ballotRep, which stores the list of positions, \n// the list of candidates for each position, and the ballot name. If we want\n// to html send the results from this component, we also need the voter ID. \n// We should do that all in one AWS lambda call. \n// \n\nexport default class Ballot extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      preferences: {}\n    };\n    this.boundHandler = this.handler.bind(this);\n  } // This updates the state with preferences, nothing is submitted until \n  // the submit button is pressed\n\n\n  handler(e) {\n    const pref = e.pref;\n    const candidate = e.candidate;\n    const position = e.position;\n    console.log([pref, candidate, position, this.props.ballotRep.name]);\n    this.setState({\n      preferences: { ...this.state.preferences,\n        [position]: { ...this.state.preferences[position],\n          [candidate]: pref\n        }\n      }\n    });\n    console.log(this.state);\n  }\n\n  submit() {// make an html request to submit\n  }\n\n  // position in this case is an object with name and candidates \t\n  positionRepToPosition(positionRep) {\n    return /*#__PURE__*/React.createElement(Position, {\n      position: positionRep.name,\n      candidates: positionRep.candidates,\n      handler: e => this.boundHandler(e) //handler={(pr, c, po) => this.handler(pr, c, po)}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 4\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Ballot\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h1\",\n      gutterBottom: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }\n    }, this.props.ballotRep.name), this.props.ballotRep.positionReps.map(this.positionRepToPosition.bind(this)), /*#__PURE__*/React.createElement(Button, {\n      className: \"Ballot-submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/sjl/Documents/GitHub/RankedPairs-site/src/Ballot.js"],"names":["React","Typography","Button","Position","useParams","Ballot","Component","constructor","props","state","preferences","boundHandler","handler","bind","e","pref","candidate","position","console","log","ballotRep","name","setState","submit","positionRepToPosition","positionRep","candidates","render","positionReps","map"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,MAArB,QAAmC,mBAAnC;AACA,OAAOC,QAAP,MAAqB,eAArB;AACA,SAASC,SAAT,QAA0B,kBAA1B,C,CAEA;AACA;AACA;AACA;AACA;;AACA,eAAe,MAAMC,MAAN,SAAqBL,KAAK,CAACM,SAA3B,CAAqC;AACnDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACZC,MAAAA,WAAW,EAAE;AADD,KAAb;AAGA,SAAKC,YAAL,GAAoB,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAApB;AACA,GAPkD,CAQnD;AACA;;;AACAD,EAAAA,OAAO,CAAEE,CAAF,EAAK;AACX,UAAMC,IAAI,GAAGD,CAAC,CAACC,IAAf;AACA,UAAMC,SAAS,GAAGF,CAAC,CAACE,SAApB;AACA,UAAMC,QAAQ,GAAGH,CAAC,CAACG,QAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,CAACJ,IAAD,EAAOC,SAAP,EAAkBC,QAAlB,EAA4B,KAAKT,KAAL,CAAWY,SAAX,CAAqBC,IAAjD,CAAZ;AACA,SAAKC,QAAL,CAAc;AAACZ,MAAAA,WAAW,EAAE,EAAC,GAAG,KAAKD,KAAL,CAAWC,WAAf;AACpB,SAACO,QAAD,GAAa,EACb,GAAG,KAAKR,KAAL,CAAWC,WAAX,CAAuBO,QAAvB,CADU;AAEb,WAACD,SAAD,GAAcD;AAFD;AADO;AAAd,KAAd;AAIAG,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAjB;AACA;;AAEDc,EAAAA,MAAM,GAAG,CACR;AACA;;AAED;AACAC,EAAAA,qBAAqB,CAAEC,WAAF,EAAe;AACnC,wBACC,oBAAC,QAAD;AACC,MAAA,QAAQ,EAAEA,WAAW,CAACJ,IADvB;AAEC,MAAA,UAAU,EAAEI,WAAW,CAACC,UAFzB;AAGC,MAAA,OAAO,EAAGZ,CAAD,IAAO,KAAKH,YAAL,CAAkBG,CAAlB,CAHjB,CAIC;AAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD;AAQA;;AAEDa,EAAAA,MAAM,GAAG;AACR,wBACC;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAC,IAApB;AAAyB,MAAA,YAAY,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,KAAKnB,KAAL,CAAWY,SAAX,CAAqBC,IADtB,CADD,EAIE,KAAKb,KAAL,CAAWY,SAAX,CAAqBQ,YAArB,CAAkCC,GAAlC,CAAsC,KAAKL,qBAAL,CAA2BX,IAA3B,CAAgC,IAAhC,CAAtC,CAJF,eAKC,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,eAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALD,CADD;AAUA;;AAjDkD","sourcesContent":["import React from 'react'; \nimport { Typography, Button } from '@material-ui/core';\nimport Position from './Position.js';\nimport { useParams } from 'react-router-dom';\n\n// passed into this is the ballotRep, which stores the list of positions, \n// the list of candidates for each position, and the ballot name. If we want\n// to html send the results from this component, we also need the voter ID. \n// We should do that all in one AWS lambda call. \n// \nexport default class Ballot extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tpreferences: {}\n\t\t};\n\t\tthis.boundHandler = this.handler.bind(this);\n\t}\n\t// This updates the state with preferences, nothing is submitted until \n\t// the submit button is pressed\n\thandler (e) {\n\t\tconst pref = e.pref;\n\t\tconst candidate = e.candidate;\n\t\tconst position = e.position;\n\t\tconsole.log([pref, candidate, position, this.props.ballotRep.name]);\n\t\tthis.setState({preferences: {...this.state.preferences, \n\t\t\t\t\t\t\t\t\t [position] : {\n\t\t\t\t\t\t\t\t\t\t...this.state.preferences[position], \n\t\t\t\t\t\t\t\t\t\t[candidate] : pref}}});\n\t\tconsole.log(this.state);\n\t}\n\n\tsubmit (){\n\t\t// make an html request to submit\n\t};\n\n\t// position in this case is an object with name and candidates \t\n\tpositionRepToPosition (positionRep) {\n\t\treturn (\n\t\t\t<Position\n\t\t\t\tposition={positionRep.name}\n\t\t\t\tcandidates={positionRep.candidates}\n\t\t\t\thandler={(e) => this.boundHandler(e)}\n\t\t\t\t//handler={(pr, c, po) => this.handler(pr, c, po)}\n\t\t\t/>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Ballot\">\n\t\t\t\t<Typography variant='h1' gutterBottom>\n\t\t\t\t{this.props.ballotRep.name}\n\t\t\t\t</Typography>\n\t\t\t\t{this.props.ballotRep.positionReps.map(this.positionRepToPosition.bind(this))}\n\t\t\t\t<Button className=\"Ballot-submit\" />\n\t\t\t</div>\n\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}